# ACONTEXT Agent Playground - å¯åŠ¨æ¨¡æ¿

**ACONTEXT Agent Playground** æ˜¯ä¸€ä¸ªç”Ÿäº§å°±ç»ªçš„å¯åŠ¨æ¨¡æ¿ï¼Œç”¨äºæ„å»ºç”± [Acontext](https://acontext.io) é©±åŠ¨çš„ä¸Šä¸‹æ–‡æ„ŸçŸ¥è‡ªä¸» AI æ™ºèƒ½ä½“ã€‚è¯¥æ¨¡æ¿æä¾›äº†å®Œæ•´çš„è®¤è¯ã€èŠå¤©ç•Œé¢ã€å·¥å…·é›†æˆå’Œä¼šè¯ç®¡ç†åŠŸèƒ½ï¼Œè®©æ‚¨èƒ½å¤Ÿå¿«é€Ÿæ„å»ºå’Œè‡ªå®šä¹‰è‡ªå·±çš„ AI æ™ºèƒ½ä½“åº”ç”¨ã€‚

## ğŸš€ è¿™æ˜¯ä»€ä¹ˆï¼Ÿ

è¿™æ˜¯ä¸€ä¸ª**å¯åŠ¨æ¨¡æ¿**ï¼Œç»§æ‰¿äº† **Acontext å¹³å°**çš„å¼ºå¤§åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š

- **ä¼šè¯ç®¡ç†**ï¼šå…·æœ‰è‡ªåŠ¨ä¸Šä¸‹æ–‡ç®¡ç†çš„æŒä¹…å¯¹è¯ä¼šè¯
- **è¯­ä¹‰æœç´¢**ï¼šæ™ºèƒ½æ£€ç´¢ç›¸å…³å¯¹è¯å†å²
- **æ–‡ä»¶å’Œå·¥ä»¶ç®¡ç†**ï¼šé€šè¿‡ Acontext Disk ä¸Šä¼ ã€å­˜å‚¨å’Œç®¡ç†æ–‡ä»¶
- **ç»éªŒå­¦ä¹ **ï¼šä»ç”¨æˆ· Space ä¸­æœç´¢å’Œé‡ç”¨å·²å­¦ä¹ çš„æŠ€èƒ½
- **ä¸Šä¸‹æ–‡å‹ç¼©**ï¼šè‡ªåŠ¨ token ç®¡ç†å’Œä¸Šä¸‹æ–‡ä¼˜åŒ–
- **å·¥å…·é›†æˆ**ï¼šå¯æ‰©å±•çš„å·¥å…·ç³»ç»Ÿï¼Œæ”¯æŒè‡ªå®šä¹‰åŠŸèƒ½

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒèƒ½åŠ›

- **ğŸ” èº«ä»½è®¤è¯**ï¼šä½¿ç”¨ Supabase çš„é‚®ç®±/å¯†ç è®¤è¯
- **ğŸ’¬ èŠå¤©ç•Œé¢**ï¼šåŠŸèƒ½å®Œæ•´çš„èŠå¤© UIï¼ŒåŒ…å«æ¶ˆæ¯å†å²ã€æµå¼å“åº”å’Œå·¥å…·è°ƒç”¨å¯è§†åŒ–
- **ğŸ¨ å¯è‡ªå®šä¹‰ UI**ï¼šåŸºäº Tailwind CSS å’Œ shadcn/ui ç»„ä»¶æ„å»º - å®Œå…¨å¯è‡ªå®šä¹‰
- **ğŸ¤– å¤´åƒæ”¯æŒ**ï¼šè½»æ¾è‡ªå®šä¹‰æ™ºèƒ½ä½“å¤´åƒå’Œå“ç‰Œæ ‡è¯†
- **ğŸ› ï¸ å¯æ‰©å±•å·¥å…·**ï¼šæ·»åŠ æ‚¨è‡ªå·±çš„è‡ªå®šä¹‰å·¥å…·æˆ–ä¿®æ”¹ç°æœ‰å·¥å…·
- **ğŸ“ æ–‡ä»¶ä¸Šä¼ **ï¼šæ”¯æŒä¸Šä¼  PDFã€å›¾ç‰‡å’Œæ–‡æ¡£
- **ğŸŒ æµè§ˆå™¨è‡ªåŠ¨åŒ–**ï¼šé›†æˆ Browser Use SDK ç”¨äºç½‘é¡µè‡ªåŠ¨åŒ–ä»»åŠ¡
- **ğŸŒ“ ä¸»é¢˜æ”¯æŒ**ï¼šä½¿ç”¨ next-themes çš„æ·±è‰²/æµ…è‰²æ¨¡å¼

### Acontext é›†æˆ

- **ä¼šè¯æŒä¹…åŒ–**ï¼šæ¯ä¸ªèŠå¤©ä¼šè¯æ˜ å°„åˆ°ä¸€ä¸ª Acontext Session
- **è¯­ä¹‰ä¸Šä¸‹æ–‡æœç´¢**ï¼šåœ¨ç”Ÿæˆå›å¤å‰è‡ªåŠ¨æ£€ç´¢ç›¸å…³å†å²ä¸Šä¸‹æ–‡
- **ç£ç›˜å­˜å‚¨**ï¼šæ–‡ä»¶å­˜å‚¨åœ¨ Acontext Disk ä¸­ï¼Œæ”¯æŒè‡ªåŠ¨å·¥å…·è®¿é—®
- **ç»éªŒæœç´¢**ï¼šåˆ©ç”¨ç”¨æˆ· Space ä¸­å·²å­¦ä¹ çš„æŠ€èƒ½æ¥æ”¹è¿›å›å¤
- **ä¸Šä¸‹æ–‡å‹ç¼©**ï¼šè‡ªåŠ¨ token ç®¡ç†ï¼Œæ”¯æŒæ‰‹åŠ¨å‹ç¼©é€‰é¡¹

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**ï¼šNext.js 15+ (App Router)
- **è®¤è¯å’Œæ•°æ®åº“**ï¼šSupabase (`@supabase/supabase-js`, `@supabase/ssr`)
- **AI å¹³å°**ï¼šAcontext (`@acontext/acontext`)
- **LLM**ï¼šOpenAI (`openai` SDK) - å…¼å®¹ OpenAI API
- **æµè§ˆå™¨æ™ºèƒ½ä½“**ï¼šBrowser Use SDK (`browser-use-sdk`)
- **UI ç»„ä»¶**ï¼šTailwind CSS, shadcn/ui, Lucide å›¾æ ‡
- **è¯­è¨€**ï¼šTypeScript
- **ä¸»é¢˜**ï¼šnext-themes

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js 18+ å’Œ npm/yarn/pnpm
- Supabase è´¦æˆ·ï¼ˆ[åœ¨æ­¤åˆ›å»º](https://database.new)ï¼‰
- Acontext è´¦æˆ·ï¼ˆ[åœ¨æ­¤æ³¨å†Œ](https://acontext.io)ï¼‰
- OpenAI API å¯†é’¥ï¼ˆæˆ–å…¼å®¹çš„ API ç«¯ç‚¹ï¼‰

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**

```bash
git clone <your-repo-url> nextjs-with-supabase-acontext
cd nextjs-with-supabase-acontext
```

2. **å®‰è£…ä¾èµ–**

```bash
npm install
# æˆ–
yarn install
# æˆ–
pnpm install
```

3. **è®¾ç½® Supabase**

   - åœ¨ [Supabase Dashboard](https://database.new) åˆ›å»ºæ–°é¡¹ç›®
   - è®°å½•æ‚¨çš„ `Project URL` å’Œ `Anon (publishable) key`

4. **é…ç½®ç¯å¢ƒå˜é‡**

   åœ¨æ ¹ç›®å½•åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
# Supabase (å¿…éœ€)
NEXT_PUBLIC_SUPABASE_URL=your-supabase-project-url
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=your-supabase-publishable-or-anon-key

# Acontext (å®Œæ•´åŠŸèƒ½éœ€è¦)
ACONTEXT_API_KEY=your-acontext-api-key
ACONTEXT_BASE_URL=https://api.acontext.com/api/v1  # å¯é€‰ï¼Œé»˜è®¤ä¸ºæ­¤å€¼

# OpenAI LLM (å¿…éœ€)
OPENAI_LLM_ENDPOINT=https://api.openai.com/v1
OPENAI_LLM_API_KEY=your-openai-api-key
OPENAI_LLM_MODEL=gpt-4o-mini  # æˆ– gpt-3.5-turbo, gpt-4 ç­‰
OPENAI_LLM_TEMPERATURE=0.7
OPENAI_LLM_MAX_TOKENS=2000

# Browser Use Cloud (å¯é€‰ï¼Œç”¨äºæµè§ˆå™¨è‡ªåŠ¨åŒ–)
BROWSER_USE_API_KEY=your-browser-use-cloud-api-key
```

5. **è®¾ç½®æ•°æ®åº“æ¶æ„**

   - æ‰“å¼€æ‚¨çš„ Supabase é¡¹ç›®
   - è¿›å…¥ **SQL Editor**
   - è¿è¡Œ `specs/001-chatbot-openai/schema.sql` ä¸­çš„ SQL
   - è¿™å°†åˆ›å»º `chat_sessions` å’Œ `chat_messages` è¡¨
   - å¯¹äº Acontext é›†æˆï¼Œè¿˜éœ€è¿è¡Œ `specs/001-chatbot-openai/migration-acontext.sql`

6. **è¿è¡Œå¼€å‘æœåŠ¡å™¨**

```bash
npm run dev
# æˆ–
yarn dev
# æˆ–
pnpm dev
```

è®¿é—® `http://localhost:3000` æŸ¥çœ‹æ‚¨çš„åº”ç”¨ã€‚

## ğŸ¨ è‡ªå®šä¹‰æŒ‡å—

### è‡ªå®šä¹‰ UI

UI ä½¿ç”¨ **Tailwind CSS** å’Œ **shadcn/ui** ç»„ä»¶æ„å»ºï¼Œæ˜“äºè‡ªå®šä¹‰ï¼š

1. **ä¸»é¢˜é¢œè‰²**ï¼šç¼–è¾‘ `tailwind.config.ts` æ›´æ”¹é…è‰²æ–¹æ¡ˆ
2. **ç»„ä»¶**ï¼šæ‰€æœ‰ UI ç»„ä»¶éƒ½åœ¨ `components/ui/` ç›®å½•ä¸­ - æ ¹æ®éœ€è¦ä¿®æ”¹
3. **å¸ƒå±€**ï¼šä¸»é¡µé¢åœ¨ `app/` ç›®å½•ä¸­
4. **é¦–é¡µ**ï¼šè‡ªå®šä¹‰ `app/page.tsx` ä½œä¸ºæ‚¨çš„ç€é™†é¡µ
5. **èŠå¤©ç•Œé¢**ï¼šä¿®æ”¹ `components/chatbot-panel.tsx` è¿›è¡ŒèŠå¤© UI æ›´æ”¹

### è‡ªå®šä¹‰å¤´åƒ

æ™ºèƒ½ä½“å¤´åƒå¯ä»¥é€šè¿‡å¤šç§æ–¹å¼è‡ªå®šä¹‰ï¼š

1. **è§’è‰²å›¾ç‰‡**ï¼šç”¨æ‚¨è‡ªå·±çš„è§’è‰²/Logo æ›¿æ¢ `components/parallax-character.tsx`
2. **é¦–é¡µå¤´åƒ**ï¼šæ›´æ–°è§†å·®è§’è‰²ç»„ä»¶æˆ–é¦–é¡µ hero éƒ¨åˆ†
3. **èŠå¤©å¤´åƒ**ï¼šä¿®æ”¹ `components/chatbot-panel.tsx` ä¸­çš„å¤´åƒæ˜¾ç¤º

ç¤ºä¾‹ä½ç½®ï¼š
- `components/parallax-character.tsx` - é¦–é¡µè§†å·®è§’è‰²
- `public/acontext-character.png` - è§’è‰²èµ„æº
- `app/page.tsx` - é¦–é¡µå¸ƒå±€

### æ·»åŠ è‡ªå®šä¹‰å·¥å…·

å·¥å…·å®šä¹‰ä¸º OpenAI å‡½æ•°è°ƒç”¨æ¶æ„ã€‚è¦æ·»åŠ æ‚¨è‡ªå·±çš„å·¥å…·ï¼š

1. **åœ¨ `lib/` ä¸­åˆ›å»ºå·¥å…·æ–‡ä»¶**ï¼ˆä¾‹å¦‚ `lib/my-custom-tool.ts`ï¼‰ï¼š

```typescript
export function getMyToolSchema() {
  return {
    type: "function" as const,
    function: {
      name: "my_custom_tool",
      description: "æè¿°æ‚¨çš„å·¥å…·åŠŸèƒ½",
      parameters: {
        type: "object",
        properties: {
          param1: {
            type: "string",
            description: "å‚æ•°æè¿°",
          },
        },
        required: ["param1"],
      },
    },
  };
}

export async function executeMyTool(args: { param1: string }) {
  // æ‚¨çš„å·¥å…·é€»è¾‘
  return {
    result: "å·¥å…·æ‰§è¡Œç»“æœ",
  };
}
```

2. **åœ¨ `lib/openai-client.ts` ä¸­æ³¨å†Œå·¥å…·**ï¼š

```typescript
// æ·»åŠ åˆ° getAvailableTools å‡½æ•°
if (shouldIncludeMyTool) {
  tools.push(getMyToolSchema());
}

// æ·»åŠ åˆ° executeToolCall å‡½æ•°
if (name === "my_custom_tool") {
  const args = JSON.parse(argsJson || "{}");
  return await executeMyTool(args);
}
```

3. **åœ¨ `app/api/chatbot/route.ts` ä¸­æ¥å…¥èŠå¤© API**ï¼š

```typescript
// è°ƒç”¨ chatCompletionStream æ—¶å·¥å…·ä¼šè‡ªåŠ¨åŒ…å«
```

**ç°æœ‰å·¥å…·ç¤ºä¾‹ï¼š**
- `lib/browser-use.ts` - æµè§ˆå™¨è‡ªåŠ¨åŒ–
- `lib/acontext-disk-tools.ts` - æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
- `lib/acontext-experience-search-tool.ts` - ç»éªŒæœç´¢
- `lib/acontext-todo-tool.ts` - Todo ç®¡ç†

### è‡ªå®šä¹‰ Acontext é›†æˆ

Acontext é›†æˆæ˜¯æ¨¡å—åŒ–çš„ï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼š

- **ä¼šè¯ç®¡ç†**ï¼š`lib/acontext-integration.ts` - ä¿®æ”¹ä¼šè¯åˆ›å»ºå’Œç®¡ç†
- **å®¢æˆ·ç«¯é…ç½®**ï¼š`lib/acontext-client.ts` - è°ƒæ•´ Acontext å®¢æˆ·ç«¯è®¾ç½®
- **å·¥å…·é›†æˆ**ï¼š`lib/acontext-disk-tools.ts` - è‡ªå®šä¹‰ç£ç›˜å·¥å…·è¡Œä¸º
- **ç»éªŒæœç´¢**ï¼š`lib/acontext-experience-search-tool.ts` - ä¿®æ”¹æœç´¢é€»è¾‘

## ğŸ“š é¡¹ç›®ç»“æ„

```
nextjs-with-supabase-acontext/
â”œâ”€â”€ app/                    # Next.js app ç›®å½•
â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ acontext/      # Acontext API ç«¯ç‚¹
â”‚   â”‚   â”œâ”€â”€ chatbot/       # èŠå¤© API ç«¯ç‚¹
â”‚   â”‚   â””â”€â”€ tools/         # å·¥å…· API ç«¯ç‚¹
â”‚   â”œâ”€â”€ auth/              # è®¤è¯é¡µé¢
â”‚   â”œâ”€â”€ protected/         # å—ä¿æŠ¤çš„èŠå¤©é¡µé¢
â”‚   â””â”€â”€ page.tsx           # é¦–é¡µ
â”œâ”€â”€ components/             # React ç»„ä»¶
â”‚   â”œâ”€â”€ ui/                # shadcn/ui ç»„ä»¶
â”‚   â”œâ”€â”€ chatbot-panel.tsx  # ä¸»èŠå¤©ç•Œé¢
â”‚   â””â”€â”€ parallax-character.tsx  # é¦–é¡µè§’è‰²
â”œâ”€â”€ lib/                   # æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ acontext-*.ts      # Acontext é›†æˆ
â”‚   â”œâ”€â”€ openai-client.ts   # OpenAI å®¢æˆ·ç«¯åŒ…è£…å™¨
â”‚   â”œâ”€â”€ browser-use.ts    # æµè§ˆå™¨è‡ªåŠ¨åŒ–
â”‚   â””â”€â”€ supabase/          # Supabase å·¥å…·
â”œâ”€â”€ specs/                 # é¡¹ç›®è§„èŒƒ
â””â”€â”€ types/                 # TypeScript ç±»å‹
```

## ğŸ”§ å¯ç”¨å·¥å…·

### å†…ç½®å·¥å…·

1. **Browser Use Task** (`browser_use_task`)
   - æ‰§è¡Œç½‘é¡µè‡ªåŠ¨åŒ–ä»»åŠ¡
   - éœ€è¦ Browser Use Cloud API å¯†é’¥
   - ä½ç½®ï¼š`lib/browser-use.ts`

2. **Acontext Disk å·¥å…·**
   - `write_file`, `read_file`, `replace_string`, `list_artifacts`, `download_file`
   - Acontext Disk ä¸Šçš„æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
   - ä½ç½®ï¼š`lib/acontext-disk-tools.ts`

3. **ç»éªŒæœç´¢** (`experience_search`)
   - ä» Acontext Space æœç´¢ç”¨æˆ·å·²å­¦ä¹ çš„æŠ€èƒ½
   - ä½ç½®ï¼š`lib/acontext-experience-search-tool.ts`

4. **Todo ç®¡ç†** (`todo`)
   - åœ¨èŠå¤©ä¼šè¯ä¸­åˆ›å»ºå’Œç®¡ç†å¾…åŠäº‹é¡¹
   - ä½ç½®ï¼š`lib/acontext-todo-tool.ts`

### æ·»åŠ æ‚¨è‡ªå·±çš„å·¥å…·

è¯·å‚é˜…ä¸Šé¢çš„[è‡ªå®šä¹‰æŒ‡å—](#æ·»åŠ è‡ªå®šä¹‰å·¥å…·)éƒ¨åˆ†ã€‚

## ğŸŒ ç¯å¢ƒå˜é‡

| å˜é‡ | æè¿° | å¿…éœ€ |
|------|------|------|
| `NEXT_PUBLIC_SUPABASE_URL` | Supabase é¡¹ç›® URL | æ˜¯ |
| `NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY` | Supabase publishable/anon å¯†é’¥ | æ˜¯ |
| `ACONTEXT_API_KEY` | Acontext API å¯†é’¥ | æ˜¯ï¼ˆå®Œæ•´åŠŸèƒ½éœ€è¦ï¼‰ |
| `ACONTEXT_BASE_URL` | Acontext API åŸºç¡€ URL | å¦ï¼ˆæœ‰é»˜è®¤å€¼ï¼‰ |
| `OPENAI_LLM_ENDPOINT` | OpenAI å…¼å®¹ API ç«¯ç‚¹ | æ˜¯ |
| `OPENAI_LLM_API_KEY` | OpenAI API å¯†é’¥ | æ˜¯ |
| `OPENAI_LLM_MODEL` | æ¨¡å‹åç§°ï¼ˆä¾‹å¦‚ `gpt-4o-mini`ï¼‰ | æ˜¯ |
| `OPENAI_LLM_TEMPERATURE` | æ¸©åº¦ï¼ˆ0-2ï¼‰ | å¦ï¼ˆé»˜è®¤ï¼š0.7ï¼‰ |
| `OPENAI_LLM_MAX_TOKENS` | å“åº”æœ€å¤§ token æ•° | å¦ï¼ˆé»˜è®¤ï¼š2000ï¼‰ |
| `BROWSER_USE_API_KEY` | Browser Use Cloud API å¯†é’¥ | å¦ï¼ˆå¯é€‰ï¼‰ |

## ğŸš¢ éƒ¨ç½²

### Vercelï¼ˆæ¨èï¼‰

1. å°†ä»£ç æ¨é€åˆ° GitHub
2. åœ¨ [Vercel](https://vercel.com) å¯¼å…¥æ‚¨çš„ä»“åº“
3. åœ¨ Vercel ä»ªè¡¨æ¿ä¸­æ·»åŠ ç¯å¢ƒå˜é‡
4. éƒ¨ç½²ï¼

### å…¶ä»–å¹³å°

è¿™æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ Next.js åº”ç”¨ï¼Œå¯ä»¥éƒ¨ç½²åˆ°ä»»ä½•æ”¯æŒ Next.js çš„å¹³å°ï¼š
- Netlify
- Railway
- Render
- AWS Amplify
- ä½¿ç”¨ Node.js è‡ªæ‰˜ç®¡

## ğŸ“– æ–‡æ¡£

- [Acontext æ–‡æ¡£](https://docs.acontext.io)
- [Next.js æ–‡æ¡£](https://nextjs.org/docs)
- [Supabase æ–‡æ¡£](https://supabase.com/docs)
- [shadcn/ui æ–‡æ¡£](https://ui.shadcn.com)

## ğŸ¤ è´¡çŒ®

è¿™æ˜¯ä¸€ä¸ªå¯åŠ¨æ¨¡æ¿ - æ¬¢è¿ Fork å¹¶æ ¹æ®æ‚¨çš„éœ€æ±‚è‡ªå®šä¹‰ï¼

## ğŸ“„ è®¸å¯è¯

è¯·æŸ¥çœ‹ä»“åº“ä¸­çš„ LICENSE æ–‡ä»¶ã€‚

## ğŸ†˜ æ”¯æŒ

- **Acontext**ï¼š[æ–‡æ¡£](https://docs.acontext.io) | [æ”¯æŒ](https://acontext.io)
- **é—®é¢˜**ï¼šåœ¨ä»“åº“ä¸­æäº¤ issue

---

**ä½¿ç”¨ Acontext å¹³å°æ„å»º â¤ï¸**

